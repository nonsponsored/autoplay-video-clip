export class VideoClip{constructor(e){document.addEventListener("DOMContentLoaded",()=>{[].map.call(document.querySelectorAll(e),e=>{const t=e.querySelector("video"),d=e.querySelector("source"),s=d.getAttribute("data-src"),r=e.querySelector(".js-replay");d.setAttribute("src",s),d.removeAttribute("data-src"),e.classList.add("js-video-clip--active"),t.load(),t.addEventListener("transitionend",()=>{t.play()}),r&&(t.addEventListener("ended",()=>{r.removeAttribute("hidden");const t=r.offsetHeight;e.classList.add("js-video-clip--ended")}),r.addEventListener("click",()=>{e.classList.remove("js-video-clip--ended"),t.play(),r.setAttribute("hidden")}))})})}}