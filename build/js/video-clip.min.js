export class VideoClip{constructor(e){this.container=document.querySelector(e),this.video=this.container.querySelector("video"),this.videosrc=this.video.querySelector("source"),this.datasrc=this.videosrc.getAttribute("data-src"),this.replay=this.container.querySelector(".js-replay"),this._init()}_init(){this.videosrc.setAttribute("src",this.datasrc),this.videosrc.removeAttribute("data-src"),this.container.classList.add("js-video-clip--active"),this.video.load(),this.video.addEventListener("transitionend",()=>{this.video.play()}),this.replay&&(this.video.addEventListener("ended",()=>{this.replay.removeAttribute("hidden");const e=this.replay.offsetHeight;this.container.classList.add("js-video-clip--ended")}),this.replay.addEventListener("click",()=>{this.container.classList.remove("js-video-clip--ended"),this.video.play(),this.replay.setAttribute("hidden","hidden")}))}}